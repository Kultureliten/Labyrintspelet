<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Labyrintspelet</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
      background-color: #eef;
      transition: background-color 0.5s;
    }
    #game {
      padding: 2rem;
    }
    button {
      padding: 1rem 2rem;
      margin: 1rem;
      font-size: 1.2rem;
      cursor: pointer;
      border-radius: 8px;
      border: none;
      background-color: #0077cc;
      color: white;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #005fa3;
    }
    #message {
      font-size: 1.5rem;
      margin-top: 2rem;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div id="game">
    <h1>Labyrintspelet</h1>
    <p>V√§lj v√§g:</p>
    <button onclick="makeChoice('V√§nster')">V√§nster</button>
    <button onclick="makeChoice('H√∂ger')">H√∂ger</button>
    <div id="message"></div>
    <p id="attempts">F√∂rs√∂k: 0</p>
  </div>

  <div id="gameover" class="hidden">
    <h1>üíÄ Game Over</h1>
    <p>Du valde fel v√§g. F√∂rs√∂k igen!</p>
    <button onclick="restartGame()">B√∂rja om</button>
  </div>

  <div id="win" class="hidden">
    <h1>üåû Du hittade solen!</h1>
    <p>Tack f√∂r att du spelat <strong>"En √•terkopplande spadag"</strong></p>
    <p id="finalAttempts"></p>
  </div>

  <script>
    const correctPath = ["V√§nster", "V√§nster", "V√§nster", "H√∂ger", "V√§nster", "H√∂ger", "V√§nster", "H√∂ger", "H√∂ger"];
    let playerPath = [];
    let attempts = 0;

    function makeChoice(choice) {
      const currentStep = playerPath.length;
      if (choice === correctPath[currentStep]) {
        playerPath.push(choice);
        updateBackground();
        if (playerPath.length === correctPath.length) {
          showWin();
        } else {
          document.getElementById('message').innerText = `Du valde ${choice}. Forts√§tt!`;
        }
      } else {
        showGameOver();
      }
    }

    function showGameOver() {
      attempts++;
      document.getElementById('game').classList.add('hidden');
      document.getElementById('gameover').classList.remove('hidden');
    }

    function restartGame() {
      playerPath = [];
      document.body.style.backgroundColor = '#eef';
      document.getElementById('message').innerText = '';
      document.getElementById('gameover').classList.add('hidden');
      document.getElementById('win').classList.add('hidden');
      document.getElementById('game').classList.remove('hidden');
      document.getElementById('attempts').innerText = `F√∂rs√∂k: ${attempts}`;
    }

    function showWin() {
      attempts++;
      document.getElementById('finalAttempts').innerText = `Det tog dig ${attempts} f√∂rs√∂k.`;
      document.getElementById('game').classList.add('hidden');
      document.getElementById('win').classList.remove('hidden');
    }

    function updateBackground() {
      const colors = ["#eef", "#e3f2fd", "#fff3e0", "#e8f5e9", "#fce4ec", "#ede7f6", "#f3e5f5", "#e0f7fa", "#ffebee"];
      const index = playerPath.length % colors.length;
      document.body.style.backgroundColor = colors[index];
    }
  </script>
</body>
</html>
